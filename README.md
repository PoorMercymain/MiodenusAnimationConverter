# MiodenusAnimationConverter

*MiodenusAnimationConverter* - это консольное приложение, являющееся частью проекта *Miodenus*, отвечающее за преобразование входных данных (см. ниже) в итоговый видеофайл, содержащий анимацию сборки.

## Входные данные

На вход данное приложение принимает:
- файл, описывающий анимацию сборки (см. ниже)
- файлы моделей, учавствующих в анимации

На данный момент поддерживаются файлы моделей следующих форматов:
- STL (ASCII и Binary)

## Запуск из консоли

*MiodenusAnimationConverter* имеет **обязательные** и **необязательные** аргументы командной строки. Первые необходимы для корректной работы приложения. Последние же позволяют изменить некоторые параметры итогового видеофайла. Приоритет агрументов, явно указывающих значения различных параметров, **выше**, чем у соответствующих значений из анимационного файла. Порядок передачи аргументов не имеет значения (*кроме `-m` - см. таблицу ниже*).

Также аргументы командной строки подразделяются на *ключи* и их *значения*. Значение каждого ключа обязательно должно идти **сразу после** него самого.

В случае если приложению не будут переданы обязательные аргументы - в консоль будет выведена краткая справка по использованию программы.

Если же некоторые ключи или их значения будут некорректны (например, отсутствие обязательного значения у ключа) - будет выведено соответствующее сообщение.

### Таблица аргументов

| Обязательный аргумент | Ключ | Значение | Примечание |
| :---: | :---: | :---: | --- |
| Нет | `-h` `--help` `?` | Отсутствует | В случае появления любого из данных ключей среди агрументов - в консоль будет выведена подробная справка о работе программы, после чего приложение завершит свою работу. |
| Нет | `-v` `--version` | Отсутствует | В случае появления любого из данных ключей среди агрументов - в консоль будет выведена информация о версии установленной программы, после чего приложение завершит свою работу. |
| Да | `-a` `--animation` | Путь до файла, описывающего анимацию сборки | Путь должен быть заключен в одинарные `'` или двойные `"` кавычки. |
| Да | `-m` `--models` | Пути до файлов моделей | Пути должны быть заключены в одинарные `'` или двойные `"` кавычки. Данный ключ должен идти **после** всех остальных. Все аргументы командной строки, идущие после данного ключа будут интерпретированы, как пути до файлов моделей. |
| Нет | `-o` `--output` | Путь для сохранения игогового видеофайла | Путь должен быть заключен в одинарные `'` или двойные `"` кавычки. Если задан путь до директории - в ней будет создан итоговый видеофайл, причем его название будет взято из анимационного файла. Если же задан путь до видеофайла - он будет создан в указанном месте (в случае если данный файл уже имеется в файловой системе - он будет **перезаписан**). Указанный файл должен иметь расширение, соответствующее указанному в анимационном файле. |
| Нет | `-f` `--fps` | Кадровая частота итогового видеофайла | Диапазон допустимых значений: от `1` до `200` (включительно). |

### Пример запуска из консоли

Команда, представленная ниже, создаст итоговый видеофайл *result.avi*, используя анимационный файл *animation.maf*, находящийся в той же директории, и две модели, расположенные в */home/usr/STL/model1.stl* и */home/usr/STL/model2.stl* соответственно. Кадровая частота итогового видеофайла будет равна *60*.

`$ MiodenusAnimationConverter -a "animation.maf" -f 60 -o "result.avi" -m "/home/usr/STL/model1.stl" "/home/usr/STL/model2.stl"`

Данную команду можно записать и таким способом:

`$ MiodenusAnimationConverter --output "result.avi" --fps 60 --animation "animation.maf" --models "/home/usr/STL/model1.stl" "/home/usr/STL/model2.stl"`
